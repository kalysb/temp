
{"swagger":"2.0","info":{"title":"The MyListory API","description":"Connect","version":"/v1/"},"host":"localhost:8080","basePath":"/api/","schemes":["http"],"consumes":["application/json"],"produces":["application/json"],"paths":{"account/confirm":{"post":{"tags":["account"],"summary":"confirm account","description":"Confirm user email.","operationId":"account#confirm","produces":["application/json","application/vnd.goa.error"],"parameters":[{"name":"payload","in":"body","required":true,"schema":{"$ref":"#/definitions/ConfirmAccountPayload"}}],"responses":{"200":{"description":"OK"},"302":{"description":"Found"},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/error"}}},"schemes":["http"]}},"account/password-confirm":{"post":{"tags":["account"],"summary":"reset account","description":"Confirm password reset.","operationId":"account#reset","produces":["application/vnd.goa.error"],"parameters":[{"name":"payload","in":"body","required":true,"schema":{"$ref":"#/definitions/ResetAccountPayload"}}],"responses":{"204":{"description":"No Content"},"302":{"description":"Found"},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/error"}}},"schemes":["http"]}},"account/password-reset":{"post":{"tags":["account"],"summary":"askReset account","description":"Request to reset the user's password. Note this will send an email to the provided email address and wiil update password upon following the confirmation link","operationId":"account#askReset","produces":["application/vnd.goa.error"],"parameters":[{"name":"payload","in":"body","required":true,"schema":{"$ref":"#/definitions/AskResetAccountPayload"}}],"responses":{"204":{"description":"No Content"},"302":{"description":"Found"},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/error"}}},"schemes":["http"]}},"account/resend-confirmation":{"post":{"tags":["account"],"summary":"resend account","description":"Resend confirmation email","operationId":"account#resend","produces":["application/json","application/vnd.goa.error"],"parameters":[{"name":"payload","in":"body","required":true,"schema":{"$ref":"#/definitions/ResendAccountPayload"}}],"responses":{"200":{"description":"OK"},"204":{"description":"No Content"},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/error"}}},"schemes":["http"]}},"account/sign-in":{"post":{"tags":["account"],"summary":"signin account","description":"Account sign in","operationId":"account#signin","produces":["application/json","application/vnd.goa.error"],"parameters":[{"name":"payload","in":"body","required":true,"schema":{"$ref":"#/definitions/SigninAccountPayload"}}],"responses":{"200":{"description":"OK"},"302":{"description":"Found"},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/error"}}},"schemes":["http"]}},"account/sign-out":{"post":{"tags":["account"],"summary":"signout account","description":"Sign out from application","operationId":"account#signout","produces":["application/vnd.goa.error"],"responses":{"204":{"description":"No Content"},"302":{"description":"Found"},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/error"}}},"schemes":["http"]}},"account/sign-up":{"post":{"tags":["account"],"summary":"signup account","description":"Create new account","operationId":"account#signup","produces":["application/vnd.goa.error"],"parameters":[{"name":"payload","in":"body","required":true,"schema":{"$ref":"#/definitions/CreateAccountPayload"}}],"responses":{"201":{"description":"Created"},"302":{"description":"Found"},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/error"}}},"schemes":["http"]}},"auth/{svc}":{"get":{"tags":["root"],"summary":"service root","description":"Call external service authentication","operationId":"root#service","parameters":[{"name":"svc","in":"path","required":true,"type":"string"}],"responses":{"200":{"description":"OK"},"302":{"description":"Found"}},"schemes":["http"]},"post":{"tags":["root"],"summary":"service root","description":"Call external service authentication","operationId":"root#service#1","parameters":[{"name":"svc","in":"path","required":true,"type":"string"}],"responses":{"200":{"description":"OK"},"302":{"description":"Found"}},"schemes":["http"]}},"auth/{svc}/callback":{"get":{"tags":["root"],"summary":"callback root","description":"Callback from external service","operationId":"root#callback","parameters":[{"name":"svc","in":"path","required":true,"type":"string"},{"name":"payload","in":"body","required":false,"schema":{"$ref":"#/definitions/CallbackRootPayload"}}],"responses":{"200":{"description":"OK"},"302":{"description":"Found"}},"schemes":["http"]},"post":{"tags":["root"],"summary":"callback root","description":"Callback from external service","operationId":"root#callback#1","parameters":[{"name":"svc","in":"path","required":true,"type":"string"},{"name":"payload","in":"body","required":false,"schema":{"$ref":"#/definitions/CallbackRootPayload"}}],"responses":{"200":{"description":"OK"},"302":{"description":"Found"}},"schemes":["http"]}},"auth/{svc}/refresh":{"get":{"tags":["root"],"summary":"refresh root","description":"Refresh token","operationId":"root#refresh","parameters":[{"name":"svc","in":"path","required":true,"type":"string"}],"responses":{"200":{"description":"OK"},"401":{"description":"Unauthorized"}},"schemes":["http"]}},"media":{"get":{"tags":["media"],"summary":"getMedia media","description":"Get media by params","operationId":"media#getMedia","produces":["application/json","application/vnd.goa.error"],"parameters":[{"name":"hashtag","in":"query","required":false,"type":"string"},{"name":"lat","in":"query","required":false,"type":"string"},{"name":"lon","in":"query","required":false,"type":"string"},{"name":"userId","in":"query","required":false,"type":"string"}],"responses":{"200":{"description":"OK"},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/error"}},"404":{"description":"Not Found"}},"schemes":["http"]},"post":{"tags":["media"],"summary":"addMedia media","description":"Add new media to user account","operationId":"media#addMedia","produces":["application/vnd.goa.error"],"parameters":[{"name":"payload","in":"body","required":true,"schema":{"$ref":"#/definitions/PostPayload"}}],"responses":{"201":{"description":"Created"},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/error"}}},"schemes":["http"]}},"media/{mediaID}":{"put":{"tags":["media"],"summary":"updateMedia media","description":"Update user media","operationId":"media#updateMedia","produces":["application/json","application/vnd.goa.error"],"parameters":[{"name":"mediaID","in":"path","required":true,"type":"string"},{"name":"payload","in":"body","required":true,"schema":{"$ref":"#/definitions/PostPayload"}}],"responses":{"200":{"description":"OK"},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/error"}}},"schemes":["http"]},"delete":{"tags":["media"],"summary":"deleteMedia media","description":"Delete user media","operationId":"media#deleteMedia","produces":["application/vnd.goa.error","text/plain"],"parameters":[{"name":"mediaID","in":"path","required":true,"type":"string"}],"responses":{"200":{"description":"OK"},"204":{"description":"No Content"},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/error"}}},"schemes":["http"]}},"media/{mediaID}/comments":{"get":{"tags":["media"],"summary":"getMediaComment media","description":"Get media's comments by ID","operationId":"media#getMediaComment","produces":["application/json","application/vnd.goa.error"],"parameters":[{"name":"mediaID","in":"path","required":true,"type":"string"}],"responses":{"200":{"description":"OK"},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/error"}},"404":{"description":"Not Found"}},"schemes":["http"]},"post":{"tags":["media"],"summary":"addMediaComment media","description":"Add comments to media","operationId":"media#addMediaComment","produces":["application/json","application/vnd.goa.error"],"parameters":[{"name":"mediaID","in":"path","required":true,"type":"string"},{"name":"payload","in":"body","required":true,"schema":{"$ref":"#/definitions/CommentPayload"}}],"responses":{"200":{"description":"OK"},"204":{"description":"No Content"},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/error"}},"404":{"description":"Not Found"}},"schemes":["http"]}},"media/{mediaID}/comments/{commentID}":{"put":{"tags":["media"],"summary":"updateMediaComment media","description":"Update comment","operationId":"media#updateMediaComment","produces":["application/vnd.goa.error"],"parameters":[{"name":"commentID","in":"path","required":true,"type":"string"},{"name":"mediaID","in":"path","required":true,"type":"string"},{"name":"payload","in":"body","required":true,"schema":{"$ref":"#/definitions/CommentPayload"}}],"responses":{"204":{"description":"No Content"},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/error"}},"404":{"description":"Not Found"}},"schemes":["http"]},"delete":{"tags":["media"],"summary":"deleteMediaComment media","description":"Delete comment","operationId":"media#deleteMediaComment","produces":["application/vnd.goa.error"],"parameters":[{"name":"commentID","in":"path","required":true,"type":"string"},{"name":"mediaID","in":"path","required":true,"type":"string"}],"responses":{"204":{"description":"No Content"},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/error"}},"404":{"description":"Not Found"}},"schemes":["http"]}},"media/{mediaID}/likes":{"post":{"tags":["media"],"summary":"like media","description":"Like the media","operationId":"media#like","produces":["application/vnd.goa.error"],"parameters":[{"name":"mediaID","in":"path","required":true,"type":"string"}],"responses":{"204":{"description":"No Content"},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/error"}},"404":{"description":"Not Found"}},"schemes":["http"]}},"media/{mediaID}/likes/{likeID}":{"get":{"tags":["media"],"summary":"getLike media","description":"Get media likes","operationId":"media#getLike","produces":["application/json","application/vnd.goa.error"],"parameters":[{"name":"likeID","in":"path","required":true,"type":"string"},{"name":"mediaID","in":"path","required":true,"type":"string"}],"responses":{"200":{"description":"OK"},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/error"}},"404":{"description":"Not Found"}},"schemes":["http"]},"delete":{"tags":["media"],"summary":"unlike media","description":"Unlike the media","operationId":"media#unlike","produces":["application/vnd.goa.error"],"parameters":[{"name":"likeID","in":"path","required":true,"type":"string"},{"name":"mediaID","in":"path","required":true,"type":"string"}],"responses":{"204":{"description":"No Content"},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/error"}},"404":{"description":"Not Found"}},"schemes":["http"]}}},"definitions":{"AskResetAccountPayload":{"title":"AskResetAccountPayload","type":"object","properties":{"email":{"type":"string","description":"Email of account owner","example":"user@email.ru","format":"email"},"password":{"type":"string","example":"Voluptates iusto accusamus vel ducimus sunt."}},"example":{"email":"user@email.ru","password":"Voluptates iusto accusamus vel ducimus sunt."},"required":["email","password"]},"CallbackRootPayload":{"title":"CallbackRootPayload","type":"object","properties":{"code":{"type":"string","example":"Ullam commodi et vitae."},"language":{"type":"string","example":"Dolor rerum exercitationem nulla minima."},"myli":{"type":"string","example":"Eum quod."},"state":{"type":"string","example":"Beatae rem saepe voluptates vel voluptatem."}},"example":{"code":"Ullam commodi et vitae.","language":"Dolor rerum exercitationem nulla minima.","myli":"Eum quod.","state":"Beatae rem saepe voluptates vel voluptatem."},"required":["code","state","myli","language"]},"CommentPayload":{"title":"CommentPayload","type":"object","properties":{"details":{"example":false}},"example":{"details":false}},"ConfirmAccountPayload":{"title":"ConfirmAccountPayload","type":"object","properties":{"token":{"type":"string","example":"Natus illo ex."}},"example":{"token":"Natus illo ex."}},"CreateAccountPayload":{"title":"CreateAccountPayload","type":"object","properties":{"city":{"type":"string","example":"Harum tempora et excepturi."},"email":{"type":"string","example":"llewellyn@lakin.org","format":"email"},"firstName":{"type":"string","example":"Et iure qui omnis."},"language":{"type":"string","default":"ru","example":"en","minLength":2,"maxLength":2},"lastName":{"type":"string","example":"Aut commodi."},"maritalStatus":{"type":"string","example":"Reprehenderit est sint sint consectetur voluptatem at."},"password":{"type":"string","example":"rzmu74yc","minLength":8},"phone":{"type":"string","example":"Voluptatibus numquam non quasi asperiores non alias."},"sex":{"type":"string","example":"Inventore illum quasi consequatur consequatur molestiae et."}},"example":{"city":"Harum tempora et excepturi.","email":"llewellyn@lakin.org","firstName":"Et iure qui omnis.","language":"en","lastName":"Aut commodi.","maritalStatus":"Reprehenderit est sint sint consectetur voluptatem at.","password":"rzmu74yc","phone":"Voluptatibus numquam non quasi asperiores non alias.","sex":"Inventore illum quasi consequatur consequatur molestiae et."},"required":["email"]},"PostPayload":{"title":"PostPayload","type":"object","properties":{"details":{"example":1421429196833978833}},"example":{"details":1421429196833978833}},"ResendAccountPayload":{"title":"ResendAccountPayload","type":"object","properties":{"email":{"type":"string","description":"Email of account owner","example":"user@email.ru","format":"email"},"language":{"type":"string","example":"ru","enum":["ru","en"]}},"example":{"email":"user@email.ru","language":"ru"},"required":["email"]},"ResetAccountPayload":{"title":"ResetAccountPayload","type":"object","properties":{"token":{"type":"string","example":"Iusto animi aut aut corporis dolor."}},"example":{"token":"Iusto animi aut aut corporis dolor."}},"SigninAccountPayload":{"title":"SigninAccountPayload","type":"object","properties":{"email":{"type":"string","description":"Email of account owner","example":"user@email.ru","format":"email"},"password":{"type":"string","example":"Totam mollitia voluptatum maxime voluptatem nesciunt."}},"example":{"email":"user@email.ru","password":"Totam mollitia voluptatum maxime voluptatem nesciunt."},"required":["email","password"]},"error":{"title":"Mediatype identifier: application/vnd.goa.error; view=default","type":"object","properties":{"code":{"type":"string","description":"an application-specific error code, expressed as a string value.","example":"invalid_value"},"detail":{"type":"string","description":"a human-readable explanation specific to this occurrence of the problem.","example":"Value of ID must be an integer"},"id":{"type":"string","description":"a unique identifier for this particular occurrence of the problem.","example":"3F1FKVRR"},"meta":{"type":"object","description":"a meta object containing non-standard meta-information about the error.","example":{"timestamp":1458609066},"additionalProperties":true},"status":{"type":"string","description":"the HTTP status code applicable to this problem, expressed as a string value.","example":"400"}},"description":"Error response media type (default view)","example":{"code":"invalid_value","detail":"Value of ID must be an integer","id":"3F1FKVRR","meta":{"timestamp":1458609066},"status":"400"}}},"responses":{"Found":{"description":"Found"},"NoContent":{"description":"No Content"},"NotFound":{"description":"Not Found"},"OK":{"description":"OK"},"Unauthorized":{"description":"Unauthorized"}},"securityDefinitions":{"api_key":{"type":"apiKey","description":"JWT","name":"Authorization","in":"header"